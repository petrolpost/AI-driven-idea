# Navigatoråç«¯æœåŠ¡ | Navigator Backend Service

> ğŸš€ é¡¹ç›®å¯¼èˆªç³»ç»Ÿçš„æ ¸å¿ƒåç«¯æœåŠ¡ï¼ŒåŸºäºFastAPIæ„å»ºçš„é«˜æ€§èƒ½RESTful APIæœåŠ¡å™¨

[![Framework](https://img.shields.io/badge/Framework-FastAPI-green.svg)](https://fastapi.tiangolo.com)
[![Python Version](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://python.org)
[![Database](https://img.shields.io/badge/Database-SQLite-orange.svg)]()
[![ORM](https://img.shields.io/badge/ORM-SQLAlchemy-red.svg)](https://sqlalchemy.org)

## ğŸ“– é¡¹ç›®ç®€ä»‹

Navigatoråç«¯æœåŠ¡æ˜¯é¡¹ç›®å¯¼èˆªç³»ç»Ÿçš„æ ¸å¿ƒç»„ä»¶ï¼Œè´Ÿè´£æä¾›æ‰€æœ‰æ•°æ®æ“ä½œå’Œä¸šåŠ¡é€»è¾‘ã€‚å®ƒå°†ä¼ ç»Ÿçš„æ‰‹åŠ¨Markdownæ–‡ä»¶ç®¡ç†è½¬æ¢ä¸ºç°ä»£åŒ–çš„APIé©±åŠ¨ç³»ç»Ÿï¼Œä¸ºWebå‰ç«¯ã€CLIå·¥å…·å’ŒMCPåè®®æä¾›ç»Ÿä¸€çš„æ•°æ®è®¿é—®æ¥å£ã€‚

### æ ¸å¿ƒç‰¹æ€§
- **FastAPIæ¡†æ¶**ï¼šé«˜æ€§èƒ½å¼‚æ­¥APIæœåŠ¡å™¨
- **SQLiteæ•°æ®åº“**ï¼šè½»é‡çº§æœ¬åœ°æ•°æ®å­˜å‚¨
- **è‡ªåŠ¨æ–‡æ¡£**ï¼šOpenAPI/Swaggerè‡ªåŠ¨ç”Ÿæˆ
- **ç±»å‹å®‰å…¨**ï¼šå®Œæ•´çš„ç±»å‹æ³¨è§£æ”¯æŒ
- **å¤šç«¯æœåŠ¡**ï¼šæ”¯æŒWebã€CLIã€MCPå¤šç§å®¢æˆ·ç«¯

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            APIæ¥å£å±‚ (FastAPI)               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚            ä¸šåŠ¡é€»è¾‘å±‚ (CRUD)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚         æ•°æ®æ¨¡å‹å±‚ (SQLAlchemy)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          æ•°æ®å­˜å‚¨å±‚ (SQLite)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Python 3.8+
- uv åŒ…ç®¡ç†å™¨ï¼ˆæ¨èï¼‰

### å®‰è£…éƒ¨ç½²

1. **å…‹éš†å¹¶è¿›å…¥é¡¹ç›®ç›®å½•**
```bash
git clone https://github.com/username/notion_storage.git
cd notion_storage/navigator
```

2. **å®‰è£…ä¾èµ–**
```bash
# ä½¿ç”¨uvï¼ˆæ¨èï¼‰
uv install

# æˆ–ä½¿ç”¨pip
pip install fastapi uvicorn sqlalchemy markdown2 python-multipart
```

3. **å¯åŠ¨æœåŠ¡**
```bash
# å¼€å‘æ¨¡å¼
uv run uvicorn app.main:app --reload --port 8000

# æˆ–ç›´æ¥å¯åŠ¨
uvicorn app.main:app --reload --port 8000
```

4. **éªŒè¯å®‰è£…**
```bash
# APIæ–‡æ¡£
open http://127.0.0.1:8000/docs

# è·å–é¡¹ç›®åˆ—è¡¨
curl http://127.0.0.1:8000/api/projects
```

## ğŸ› ï¸ APIæ¥å£

### æ ¸å¿ƒç«¯ç‚¹

#### é¡¹ç›®ç®¡ç†
```http
GET    /api/projects           # è·å–é¡¹ç›®åˆ—è¡¨
POST   /api/projects           # åˆ›å»ºæ–°é¡¹ç›®
GET    /api/projects/{id}      # è·å–é¡¹ç›®è¯¦æƒ…
PUT    /api/projects/{id}      # æ›´æ–°é¡¹ç›®
DELETE /api/projects/{id}      # åˆ é™¤é¡¹ç›®
```

#### æ–‡æ¡£æŸ¥çœ‹
```http
GET    /view/{file_path}       # æŸ¥çœ‹Markdownæ–‡æ¡£
```

#### ç³»ç»ŸçŠ¶æ€
```http
GET    /health                 # å¥åº·æ£€æŸ¥
GET    /docs                   # APIæ–‡æ¡£
```

### APIç¤ºä¾‹

**è·å–é¡¹ç›®åˆ—è¡¨ï¼ˆæ”¯æŒç­›é€‰ï¼‰**
```bash
curl "http://127.0.0.1:8000/api/projects?project_type=å·¥å…·å¼€å‘&status=å®Œæˆ"
```

**åˆ›å»ºæ–°é¡¹ç›®**
```bash
curl -X POST "http://127.0.0.1:8000/api/projects" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "æ–°AIå·¥å…·",
    "project_type": "AIåº”ç”¨",
    "maturity": "High",
    "status": "è§„åˆ’ä¸­",
    "description": "åŸºäºLLMçš„æ™ºèƒ½å·¥å…·",
    "readme_path": "ideaed-projects/new-ai-tool/README.md"
  }'
```

## ğŸ“Š æ•°æ®æ¨¡å‹

### é¡¹ç›®å®ä½“
```python
class Project:
    id: int                    # ä¸»é”®
    name: str                  # é¡¹ç›®åç§°
    project_type: str          # ç±»å‹ï¼š"å·¥å…·å¼€å‘", "ç†è®ºåˆ†æ", "AIåº”ç”¨"
    maturity: str              # æˆç†Ÿåº¦ï¼š"High", "Medium", "Low"
    status: str                # çŠ¶æ€ï¼š"å®Œæˆ", "è¿›è¡Œä¸­", "ç ”ç©¶ä¸­", "è§„åˆ’ä¸­", "ç†è®ºå½’æ¡£"
    description: Optional[str] # é¡¹ç›®æè¿°
    readme_path: str           # READMEæ–‡ä»¶è·¯å¾„
    created_date: date         # åˆ›å»ºæ—¥æœŸ
```

### æ”¯æŒçš„æšä¸¾å€¼
- **é¡¹ç›®ç±»å‹**: `å·¥å…·å¼€å‘`, `ç†è®ºåˆ†æ`, `AIåº”ç”¨`
- **æˆç†Ÿåº¦**: `High`, `Medium`, `Low`
- **çŠ¶æ€**: `å®Œæˆ`, `è¿›è¡Œä¸­`, `ç ”ç©¶ä¸­`, `è§„åˆ’ä¸­`, `ç†è®ºå½’æ¡£`

## ğŸ”§ é¡¹ç›®ç»“æ„

```
navigator/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ main.py              # FastAPIåº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ models.py            # SQLAlchemyæ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ schemas.py           # PydanticéªŒè¯æ¨¡å‹
â”‚   â”œâ”€â”€ crud.py              # æ•°æ®åº“CRUDæ“ä½œ
â”‚   â”œâ”€â”€ database.py          # æ•°æ®åº“é…ç½®
â”‚   â””â”€â”€ cli.py               # å‘½ä»¤è¡Œå·¥å…·
â”œâ”€â”€ tests/                   # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ pyproject.toml           # é¡¹ç›®é…ç½®
â”œâ”€â”€ navigator.db             # SQLiteæ•°æ®åº“
â””â”€â”€ README.md               # é¡¹ç›®æ–‡æ¡£
```

## ğŸ§ª å¼€å‘å’Œæµ‹è¯•

### å¼€å‘ç¯å¢ƒ
```bash
# å®‰è£…å¼€å‘ä¾èµ–
uv install --dev

# ä»£ç æ ¼å¼åŒ–
black app/
isort app/

# è¿è¡Œæµ‹è¯•
pytest tests/ -v
```

### æ•°æ®åº“æ“ä½œ
```bash
# åˆå§‹åŒ–æ•°æ®åº“
python -c "from app.database import init_db; init_db()"

# é‡ç½®æ•°æ®åº“
rm navigator.db && python -c "from app.database import init_db; init_db()"
```

## ğŸ³ Dockeréƒ¨ç½²

```dockerfile
FROM python:3.8-slim

WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt

COPY . .
EXPOSE 8000

CMD ["uvicorn", "app.main:app", "--host", "0.0.0.0", "--port", "8000"]
```

```bash
# æ„å»ºå’Œè¿è¡Œ
docker build -t navigator-backend .
docker run -p 8000:8000 navigator-backend
```

## ğŸ“ˆ å½“å‰çŠ¶æ€

### åŠŸèƒ½å®ç°
- âœ… å®Œæ•´çš„é¡¹ç›®CRUD API
- âœ… Markdownæ–‡æ¡£åœ¨çº¿æŸ¥çœ‹
- âœ… æ•°æ®éªŒè¯å’Œé”™è¯¯å¤„ç†
- âœ… è‡ªåŠ¨APIæ–‡æ¡£ç”Ÿæˆ
- âœ… SQLiteæ•°æ®æŒä¹…åŒ–
- âœ… å¤šç»´åº¦é¡¹ç›®ç­›é€‰å’Œæœç´¢

### ç³»ç»ŸæŒ‡æ ‡
- **é¡¹ç›®æ€»æ•°**: 19ä¸ª
- **APIå“åº”æ—¶é—´**: < 100ms
- **æ•°æ®åº“æŸ¥è¯¢**: < 50ms
- **æ”¯æŒçš„å®¢æˆ·ç«¯**: Webå‰ç«¯ã€CLIå·¥å…·ã€MCPåè®®

## ğŸ”’ å®‰å…¨æ€§

- **è¾“å…¥éªŒè¯**: Pydanticè‡ªåŠ¨æ•°æ®éªŒè¯
- **SQLæ³¨å…¥é˜²æŠ¤**: SQLAlchemy ORMå‚æ•°åŒ–æŸ¥è¯¢
- **è·¯å¾„å®‰å…¨**: æ–‡ä»¶è®¿é—®è·¯å¾„éªŒè¯
- **é”™è¯¯å¤„ç†**: ç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†æœºåˆ¶

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. **è®¾ç½®å¼€å‘ç¯å¢ƒ**: å®‰è£…Python 3.8+å’Œuv
2. **ä»£ç è§„èŒƒ**: éµå¾ªPEP 8å’Œç±»å‹æ³¨è§£
3. **æµ‹è¯•è¦æ±‚**: ä¸ºæ–°åŠŸèƒ½æ·»åŠ æµ‹è¯•ç”¨ä¾‹
4. **æ–‡æ¡£æ›´æ–°**: æ›´æ–°APIæ–‡æ¡£å’Œæ³¨é‡Š

### é—®é¢˜æŠ¥å‘Š
- ğŸ› BugæŠ¥å‘Šï¼šè¯¦ç»†æè¿°é‡ç°æ­¥éª¤
- ğŸ’¡ åŠŸèƒ½å»ºè®®ï¼šæå‡ºAPIæ”¹è¿›å»ºè®®
- ğŸ“Š æ€§èƒ½é—®é¢˜ï¼šæŠ¥å‘Šå“åº”æ—¶é—´é—®é¢˜

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](../LICENSE) å¼€æºåè®®ã€‚

## ğŸ“ è”ç³»æ–¹å¼

- **APIæ–‡æ¡£**: http://127.0.0.1:8000/docs
- **æŠ€æœ¯é—®é¢˜**: åœ¨ä»“åº“ä¸­æäº¤Issue
- **å¼€å‘è®¨è®º**: é€šè¿‡Issueæˆ–Discussionå‚ä¸

---

ğŸš€ **Navigatoråç«¯æœåŠ¡** - ä¸ºé¡¹ç›®å¯¼èˆªç³»ç»Ÿæä¾›å¼ºå¤§çš„APIæ”¯æŒï¼
